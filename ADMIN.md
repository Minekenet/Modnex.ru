# Админ-панель Modnex

## Почему в консоли ошибки, а приложение работает?

Ошибки в консоли (IDE / TypeScript) чаще всего из‑за проверки типов и линтера: не найден модуль `react`, типы JSX и т.п. Сборку и запуск делает **Vite** через **esbuild**, он не использует полную проверку TypeScript, поэтому приложение может успешно собираться и работать, даже если в IDE подсвечены ошибки. Чтобы убрать подсветку — установи зависимости (`npm install`), в т.ч. `@types/react` и `@types/react-dom`.

---

## Как зайти в админ-панель

1. Открой в браузере: **http://localhost:8080/admin** (или твой хост/порт фронта).
2. Должен быть выполнен **вход под пользователем с ролью `admin`**. Если не залогинен или роль не админ — произойдёт редирект на главную.

---

## Как сделать аккаунт админом

Роль хранится в БД в таблице `users`, поле `role` (`'user'` или `'admin'`).

### Вариант 1: Тестовый админ из сида (после перезапуска с сидом)

В сиде создаётся пользователь:

- **Логин (email):** `admin@modnex.ru`  
- **Пароль:** ` `  
- **Роль:** уже `admin`.

Если бэкенд при старте выполняет сид (миграции/seed), этого пользователя можно использовать для входа и перехода на `/admin`.

### Вариант 2: Выдать админку уже существующему пользователю через SQL

Подключись к PostgreSQL (локально или в контейнере) и выполни:

```sql
-- По email
UPDATE users SET role = 'admin' WHERE email = 'твой@email.ru';

-- Или по имени пользователя (username)
UPDATE users SET role = 'admin' WHERE username = 'твой_логин';
```

После этого войди под этим аккаунтом и открой **http://localhost:8080/admin**.

### Через Docker

Если БД в Docker:

```bash
docker exec -it modnex-----3-postgres-1 psql -U postgres -d modnex -c "UPDATE users SET role = 'admin' WHERE email = 'твой@email.ru';"
```

Имя контейнера может отличаться — посмотри его через `docker ps` (контейнер postgres для этого проекта).

---

## Что есть в админке

- Заявки на добавление игр (предложенные пользователями).
- Жалобы на контент (модерация).
- Тикеты поддержки (просмотр и ответы через чат поддержки от имени админа).
